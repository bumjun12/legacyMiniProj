<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.miniproj.mappers.hboardmapper">

	<select id="getDateTime" resultType="string">
		select now()
	</select>

<!-- 	게시판의 모든 게시글을 번호 내림차순으로 정렬하여 가져오는 쿼리문 -->
	<select id="getAllHBoard" resultType="com.miniproj.model.HBoardVO">
		select * from hboard order by boardNo desc
	</select>

<!-- 	새로운 게시글을 저장하는 쿼리문 -->
	<insert id="saveNewBoard">
	insert into hboard (title, content, writer) values (#{title}, #{content}, #{writer})
	</insert>
	
<!-- 	저장된 글 번호 가져오는 쿼리문 -->
	
	<select id="getMaxNo" resultType="int">
		select max(boardNo) from hboard
	</select>
	
	<insert id="saveUpFile">
		insert into boardupfiles(newFileName, originFileName, thumbFileName, ext, size, boardNo, base64Img) 
		values (#{newFileName}, #{originFileName}, #{thumbFileName}, #{ext}, #{size}, #{boardNo}, #{base64Img})
	</insert>
	
	<select id="selectBoardByBoardNo" resultType="com.miniproj.model.HBoardVO">
		select * from hboard where boardNo = #{boardNo}
	</select>
	
	<select id="selectBoardUpfileByBoardNo" resultType="com.miniproj.model.BoardUpFilesVODTO">
		select * from boardupfiles where boardNo = #{boardNo}
	</select>
	
	
	
	
	
</mapper>